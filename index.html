<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>音频上传</title>
  </head>
  <body>
    <input type="file" accept="audio/*">
    <br>
    <button class="play">播放</button>
    <button class="pause">暂停</button>
    <input type="range" min="0" max="1" step="0.01" value="1" class="volume">
    <button class="mute">静音</button>
    <br>
    <audio id="musicPlayer" src=""></audio>

    <script>
      const fileInput = document.querySelector('input[type="file"]');
      const musicPlayer = document.querySelector('#musicPlayer');
      const playButton = document.querySelector('.play');
      const pauseButton = document.querySelector('.pause');
      const volumeControl = document.querySelector('.volume');
      const muteButton = document.querySelector('.mute');

      // 选择音频文件后自动播放
      fileInput.addEventListener('change', (event) => {
        const selectedFile = event.target.files[0];
        musicPlayer.src = URL.createObjectURL(selectedFile);
        musicPlayer.play();
      });

      // 控制音量，范围为0到1
      volumeControl.addEventListener('input', () => {
        musicPlayer.volume = volumeControl.value;
      });

      // 播放按钮点击事件
      playButton.addEventListener('click', () => {
        if (musicPlayer.src === '') { return; } // 若没有选择音频则不进行操作
        musicPlayer.play();
      });

      // 暂停按钮点击事件
      pauseButton.addEventListener('click', () => {
        if (musicPlayer.src === '') { return; } // 若没有选择音频则不进行操作
        musicPlayer.pause();
      });

      // 静音按钮点击事件，切换是否静音
      muteButton.addEventListener('click', () => {
        musicPlayer.muted = !musicPlayer.muted;
      });
    </script>
  </body>
</html>
